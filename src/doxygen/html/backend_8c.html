<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tetris: brick_game/tetris/backend.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tetris
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('backend_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">backend.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="backend_8h_source.html">./backend.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af67058ee52eeab518485da0d6a7ebf17" id="r_af67058ee52eeab518485da0d6a7ebf17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af67058ee52eeab518485da0d6a7ebf17">FiniteStateMachine</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:af67058ee52eeab518485da0d6a7ebf17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main game state machine controller.  <br /></td></tr>
<tr class="memitem:a0095c9e327791389211d5a23498e2e58" id="r_a0095c9e327791389211d5a23498e2e58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0095c9e327791389211d5a23498e2e58">reset_game_state</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *state)</td></tr>
<tr class="memdesc:a0095c9e327791389211d5a23498e2e58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the game state to initial conditions.  <br /></td></tr>
<tr class="memitem:ab961f91e569a34b6984536633126257a" id="r_ab961f91e569a34b6984536633126257a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab961f91e569a34b6984536633126257a">userInput</a> (<a class="el" href="common_8h.html#a7ba289d7b97db30e0b7041ca2cef75a9">UserAction_t</a> action, bool hold)</td></tr>
<tr class="memdesc:ab961f91e569a34b6984536633126257a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles user input and translates it to game actions.  <br /></td></tr>
<tr class="memitem:aab58710ec1f5cdcaead77ae06436dd90" id="r_aab58710ec1f5cdcaead77ae06436dd90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab58710ec1f5cdcaead77ae06436dd90">getCurrentState</a> ()</td></tr>
<tr class="memdesc:aab58710ec1f5cdcaead77ae06436dd90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or initializes the current game state.  <br /></td></tr>
<tr class="memitem:a7c9de83cbdb522ad7fe6c0b44af4ec64" id="r_a7c9de83cbdb522ad7fe6c0b44af4ec64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c9de83cbdb522ad7fe6c0b44af4ec64">free_resourse</a> ()</td></tr>
<tr class="memdesc:a7c9de83cbdb522ad7fe6c0b44af4ec64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees all dynamically allocated game resources.  <br /></td></tr>
<tr class="memitem:a0097381a7798527d85542590e9a0715d" id="r_a0097381a7798527d85542590e9a0715d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0097381a7798527d85542590e9a0715d">on_attaching</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:a0097381a7798527d85542590e9a0715d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the block attachment process.  <br /></td></tr>
<tr class="memitem:aeba9d187cd1bfb0d19ff8f7cb00f9bd6" id="r_aeba9d187cd1bfb0d19ff8f7cb00f9bd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeba9d187cd1bfb0d19ff8f7cb00f9bd6">on_game_spawn</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:aeba9d187cd1bfb0d19ff8f7cb00f9bd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles new block spawning.  <br /></td></tr>
<tr class="memitem:a0cc1af869195ab8900248787e80de4db" id="r_a0cc1af869195ab8900248787e80de4db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cc1af869195ab8900248787e80de4db">on_game_start</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState)</td></tr>
<tr class="memdesc:a0cc1af869195ab8900248787e80de4db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new game.  <br /></td></tr>
<tr class="memitem:a0342541c13f9b85732bddec5254a6fb5" id="r_a0342541c13f9b85732bddec5254a6fb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0342541c13f9b85732bddec5254a6fb5">on_game_over</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState)</td></tr>
<tr class="memdesc:a0342541c13f9b85732bddec5254a6fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles game over condition.  <br /></td></tr>
<tr class="memitem:a4387327fa895b3d19caae0ee079cf8b4" id="r_a4387327fa895b3d19caae0ee079cf8b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4387327fa895b3d19caae0ee079cf8b4">update_record</a> (int score, int record)</td></tr>
<tr class="memdesc:a4387327fa895b3d19caae0ee079cf8b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates high score record if new score is higher.  <br /></td></tr>
<tr class="memitem:ad0ca0e41c79d20482b7a39e3b59289c9" id="r_ad0ca0e41c79d20482b7a39e3b59289c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0ca0e41c79d20482b7a39e3b59289c9">save_record</a> (int score, int record)</td></tr>
<tr class="memdesc:ad0ca0e41c79d20482b7a39e3b59289c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves high score to file if it matches current record.  <br /></td></tr>
<tr class="memitem:a81f4fd0d56cf1e1d7127bb8e45e6902c" id="r_a81f4fd0d56cf1e1d7127bb8e45e6902c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81f4fd0d56cf1e1d7127bb8e45e6902c">lvl_up</a> (int score)</td></tr>
<tr class="memdesc:a81f4fd0d56cf1e1d7127bb8e45e6902c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates current level based on score.  <br /></td></tr>
<tr class="memitem:a5eca03d8d0c710605467b10b3f7519ce" id="r_a5eca03d8d0c710605467b10b3f7519ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eca03d8d0c710605467b10b3f7519ce">count_score</a> (int lines)</td></tr>
<tr class="memdesc:a5eca03d8d0c710605467b10b3f7519ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates score for cleared lines.  <br /></td></tr>
<tr class="memitem:ad714eba73a8569745e004344aea573db" id="r_ad714eba73a8569745e004344aea573db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad714eba73a8569745e004344aea573db">move_down</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:ad714eba73a8569745e004344aea573db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves block down one cell if possible.  <br /></td></tr>
<tr class="memitem:a3b6f9eb907133b3d9fbf69a24d984f56" id="r_a3b6f9eb907133b3d9fbf69a24d984f56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b6f9eb907133b3d9fbf69a24d984f56">check_collision</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock, bool predict)</td></tr>
<tr class="memdesc:a3b6f9eb907133b3d9fbf69a24d984f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for collision between current block and game field.  <br /></td></tr>
<tr class="memitem:a03b7f2daf5b66c019a8fe456891750cf" id="r_a03b7f2daf5b66c019a8fe456891750cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03b7f2daf5b66c019a8fe456891750cf">fall_down</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:a03b7f2daf5b66c019a8fe456891750cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves block down until it hits bottom or another block.  <br /></td></tr>
<tr class="memitem:a492908f0560fb0f29b5e9a718d835727" id="r_a492908f0560fb0f29b5e9a718d835727"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a492908f0560fb0f29b5e9a718d835727">move_left</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:a492908f0560fb0f29b5e9a718d835727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves block left if possible.  <br /></td></tr>
<tr class="memitem:a6a56b59d68341c7d50c98500a40a99ce" id="r_a6a56b59d68341c7d50c98500a40a99ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a56b59d68341c7d50c98500a40a99ce">move_right</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:a6a56b59d68341c7d50c98500a40a99ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves block right if possible.  <br /></td></tr>
<tr class="memitem:ad2ce91c0a062bd1a7e333491ce1767b9" id="r_ad2ce91c0a062bd1a7e333491ce1767b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_tetromino_state.html">TetrominoState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2ce91c0a062bd1a7e333491ce1767b9">blockState</a> (int BlockType, int BlockState)</td></tr>
<tr class="memdesc:ad2ce91c0a062bd1a7e333491ce1767b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the block state for a given tetromino type and rotation.  <br /></td></tr>
<tr class="memitem:a295fc5ad64eb82c58a61b20ffa51dea1" id="r_a295fc5ad64eb82c58a61b20ffa51dea1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a295fc5ad64eb82c58a61b20ffa51dea1">GameTimer</a> (int level, int pause)</td></tr>
<tr class="memdesc:a295fc5ad64eb82c58a61b20ffa51dea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the game timing based on level and pause state.  <br /></td></tr>
<tr class="memitem:afd5762991a9248a0b4192983fd786a8f" id="r_afd5762991a9248a0b4192983fd786a8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_game_info__t.html">GameInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd5762991a9248a0b4192983fd786a8f">updateCurrentState</a> ()</td></tr>
<tr class="memdesc:afd5762991a9248a0b4192983fd786a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a copy of the current game state.  <br /></td></tr>
<tr class="memitem:a7badae71f2b129138d24a3a092028a6b" id="r_a7badae71f2b129138d24a3a092028a6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7badae71f2b129138d24a3a092028a6b">getCurrentBlock</a> (bool reset)</td></tr>
<tr class="memdesc:a7badae71f2b129138d24a3a092028a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or resets the current game block.  <br /></td></tr>
<tr class="memitem:ac8aa937deea74d7e4deb4829091cb9fa" id="r_ac8aa937deea74d7e4deb4829091cb9fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8aa937deea74d7e4deb4829091cb9fa">load_high_score</a> ()</td></tr>
<tr class="memdesc:ac8aa937deea74d7e4deb4829091cb9fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the high score from file.  <br /></td></tr>
<tr class="memitem:a5019bb6d31d52cafd79d0a8d44a4070b" id="r_a5019bb6d31d52cafd79d0a8d44a4070b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5019bb6d31d52cafd79d0a8d44a4070b">clear_temporary_figure</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *state)</td></tr>
<tr class="memdesc:a5019bb6d31d52cafd79d0a8d44a4070b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all temporary figure markers (value 2) from the game field.  <br /></td></tr>
<tr class="memitem:aae9e535624a5157a679d86be9b9704df" id="r_aae9e535624a5157a679d86be9b9704df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae9e535624a5157a679d86be9b9704df">draw_temporary_figure</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *state, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *block)</td></tr>
<tr class="memdesc:aae9e535624a5157a679d86be9b9704df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the current figure as temporary markers (value 2) on the field.  <br /></td></tr>
<tr class="memitem:ae1ad735b3fbd154905a6c7590e1d4de5" id="r_ae1ad735b3fbd154905a6c7590e1d4de5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1ad735b3fbd154905a6c7590e1d4de5">foo_attaching</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *state, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *block)</td></tr>
<tr class="memdesc:ae1ad735b3fbd154905a6c7590e1d4de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the figure attachment process and checks game over condition.  <br /></td></tr>
<tr class="memitem:a4da539e182c7cf2a3ed7025ee5103a36" id="r_a4da539e182c7cf2a3ed7025ee5103a36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4da539e182c7cf2a3ed7025ee5103a36">copy_next_to_block</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *block)</td></tr>
<tr class="memdesc:a4da539e182c7cf2a3ed7025ee5103a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers the next figure from preview to current block.  <br /></td></tr>
<tr class="memitem:a142f582bf269f27827e76d4f1bcc5bf1" id="r_a142f582bf269f27827e76d4f1bcc5bf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a142f582bf269f27827e76d4f1bcc5bf1">prepare_next_figure</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState)</td></tr>
<tr class="memdesc:a142f582bf269f27827e76d4f1bcc5bf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the next figure to be displayed in the "next" preview.  <br /></td></tr>
<tr class="memitem:a194ae974847d0ebd3501ec83528c0563" id="r_a194ae974847d0ebd3501ec83528c0563"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a194ae974847d0ebd3501ec83528c0563">FreeCurrentState</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> **CurrentState)</td></tr>
<tr class="memdesc:a194ae974847d0ebd3501ec83528c0563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees all memory allocated for the game state.  <br /></td></tr>
<tr class="memitem:ac90b6255591b622e9a386dd0af103123" id="r_ac90b6255591b622e9a386dd0af103123"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac90b6255591b622e9a386dd0af103123">destroy_matrix</a> (int ***matrix_ptr, int rows)</td></tr>
<tr class="memdesc:ac90b6255591b622e9a386dd0af103123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a dynamically allocated 2D matrix.  <br /></td></tr>
<tr class="memitem:ae524c14ca2862ebb4d57aa3e2ff2be20" id="r_ae524c14ca2862ebb4d57aa3e2ff2be20"><td class="memItemLeft" align="right" valign="top">int **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae524c14ca2862ebb4d57aa3e2ff2be20">create_matrix</a> (int rows, int cols)</td></tr>
<tr class="memdesc:ae524c14ca2862ebb4d57aa3e2ff2be20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new 2D matrix initialized with zeros.  <br /></td></tr>
<tr class="memitem:a602c0153cd1f29a645550ebdbcde4423" id="r_a602c0153cd1f29a645550ebdbcde4423"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a602c0153cd1f29a645550ebdbcde4423">copy_matrix</a> (int **matrix_A, int **matrix_B)</td></tr>
<tr class="memdesc:a602c0153cd1f29a645550ebdbcde4423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies contents from one matrix to another.  <br /></td></tr>
<tr class="memitem:a8bb24202f07ded336c028f4b28e8ffea" id="r_a8bb24202f07ded336c028f4b28e8ffea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bb24202f07ded336c028f4b28e8ffea">empty_matrix</a> (int **matrix, int row, int col)</td></tr>
<tr class="memdesc:a8bb24202f07ded336c028f4b28e8ffea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills a matrix with zeros.  <br /></td></tr>
<tr class="memitem:a1b48850ddc3095b30f5026891f9a1dc8" id="r_a1b48850ddc3095b30f5026891f9a1dc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b48850ddc3095b30f5026891f9a1dc8">clear_full_lines</a> (int **matrix)</td></tr>
<tr class="memdesc:a1b48850ddc3095b30f5026891f9a1dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all full lines in the game field and shifts lines down.  <br /></td></tr>
<tr class="memitem:aa36309657da93af23a91fe26fe91a87e" id="r_aa36309657da93af23a91fe26fe91a87e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa36309657da93af23a91fe26fe91a87e">is_line_full</a> (const int *line, int width)</td></tr>
<tr class="memdesc:aa36309657da93af23a91fe26fe91a87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a line in the game field is completely filled.  <br /></td></tr>
<tr class="memitem:a36b9526f72bdbf76988e628dc917ee35" id="r_a36b9526f72bdbf76988e628dc917ee35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36b9526f72bdbf76988e628dc917ee35">shift_lines_down</a> (int **matrix, int from_row)</td></tr>
<tr class="memdesc:a36b9526f72bdbf76988e628dc917ee35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shifts all lines above the specified row down by one.  <br /></td></tr>
<tr class="memitem:a28781352b2f927d5b3b77d4d9ab329c7" id="r_a28781352b2f927d5b3b77d4d9ab329c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a28781352b2f927d5b3b77d4d9ab329c7">rotate_figure</a> (<a class="el" href="struct_game_info__t.html">GameInfo_t</a> *CurrentState, <a class="el" href="struct_game_block__t.html">GameBlock_t</a> *CurrentBlock)</td></tr>
<tr class="memdesc:a28781352b2f927d5b3b77d4d9ab329c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotates the current game block if possible.  <br /></td></tr>
</table>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ad2ce91c0a062bd1a7e333491ce1767b9" name="ad2ce91c0a062bd1a7e333491ce1767b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ce91c0a062bd1a7e333491ce1767b9">&#9670;&#160;</a></span>blockState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_tetromino_state.html">TetrominoState</a> blockState </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>BlockType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>BlockState</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the block state for a given tetromino type and rotation. </p>
<p>Returns the pre-defined coordinates for all 7 tetromino types (I, J, L, O, S, T, Z) in their 4 possible rotation states.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockType</td><td>The tetromino type (0-6) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockState</td><td>The rotation state (0-3) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_tetromino_state.html">TetrominoState</a> Structure containing block coordinates </dd></dl>

</div>
</div>
<a id="a3b6f9eb907133b3d9fbf69a24d984f56" name="a3b6f9eb907133b3d9fbf69a24d984f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6f9eb907133b3d9fbf69a24d984f56">&#9670;&#160;</a></span>check_collision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_collision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>predict</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for collision between current block and game field. </p>
<p>Tests whether the current block would collide with field boundaries or existing pieces. Can check either current position or predicted position one cell below.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">predict</td><td>If true, checks position one cell below current </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if collision detected, false otherwise </dd></dl>

</div>
</div>
<a id="a1b48850ddc3095b30f5026891f9a1dc8" name="a1b48850ddc3095b30f5026891f9a1dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b48850ddc3095b30f5026891f9a1dc8">&#9670;&#160;</a></span>clear_full_lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int clear_full_lines </td>
          <td>(</td>
          <td class="paramtype">int **</td>          <td class="paramname"><span class="paramname"><em>matrix</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all full lines in the game field and shifts lines down. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">matrix</td><td>The game field matrix </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Number of lines that were cleared </dd></dl>

</div>
</div>
<a id="a5019bb6d31d52cafd79d0a8d44a4070b" name="a5019bb6d31d52cafd79d0a8d44a4070b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5019bb6d31d52cafd79d0a8d44a4070b">&#9670;&#160;</a></span>clear_temporary_figure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear_temporary_figure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all temporary figure markers (value 2) from the game field. </p>
<p>Iterates through the entire game field and resets any cells marked as temporary (value 2) back to empty (value 0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>Pointer to the current game state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a602c0153cd1f29a645550ebdbcde4423" name="a602c0153cd1f29a645550ebdbcde4423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602c0153cd1f29a645550ebdbcde4423">&#9670;&#160;</a></span>copy_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_matrix </td>
          <td>(</td>
          <td class="paramtype">int **</td>          <td class="paramname"><span class="paramname"><em>matrix_A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **</td>          <td class="paramname"><span class="paramname"><em>matrix_B</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies contents from one matrix to another. </p>
<p>Assumes both matrices are of size BLOCK_SIZE x BLOCK_SIZE. Copies element by element from matrix_B to matrix_A.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">matrix_A</td><td>Destination matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">matrix_B</td><td>Source matrix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4da539e182c7cf2a3ed7025ee5103a36" name="a4da539e182c7cf2a3ed7025ee5103a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da539e182c7cf2a3ed7025ee5103a36">&#9670;&#160;</a></span>copy_next_to_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_next_to_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfers the next figure from preview to current block. </p>
<p>Detects the figure type from the next preview matrix and initializes the current block with its properties. Sets default position and rotation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CurrentState</td><td>Pointer to the current game state </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">block</td><td>Pointer to the block structure to initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5eca03d8d0c710605467b10b3f7519ce" name="a5eca03d8d0c710605467b10b3f7519ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eca03d8d0c710605467b10b3f7519ce">&#9670;&#160;</a></span>count_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int count_score </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>lines</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates score for cleared lines. </p>
<p>Implements standard Tetris scoring:</p><ul>
<li>1 line: 100 points</li>
<li>2 lines: 300 points</li>
<li>3 lines: 700 points</li>
<li>4 lines: 1500 points</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lines</td><td>Number of lines cleared (1-4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Points awarded </dd></dl>

</div>
</div>
<a id="ae524c14ca2862ebb4d57aa3e2ff2be20" name="ae524c14ca2862ebb4d57aa3e2ff2be20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae524c14ca2862ebb4d57aa3e2ff2be20">&#9670;&#160;</a></span>create_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ** create_matrix </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>rows</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cols</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new 2D matrix initialized with zeros. </p>
<p>Allocates memory for a rows x cols matrix using calloc. Performs full error checking and cleans up if allocation fails.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rows</td><td>Number of rows in the matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cols</td><td>Number of columns in the matrix </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int** Pointer to the newly allocated matrix, or NULL if allocation failed </dd></dl>

</div>
</div>
<a id="ac90b6255591b622e9a386dd0af103123" name="ac90b6255591b622e9a386dd0af103123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac90b6255591b622e9a386dd0af103123">&#9670;&#160;</a></span>destroy_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_matrix </td>
          <td>(</td>
          <td class="paramtype">int ***</td>          <td class="paramname"><span class="paramname"><em>matrix_ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>rows</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a dynamically allocated 2D matrix. </p>
<p>Safely deallocates each row of the matrix and the matrix pointer itself. Sets the matrix pointer to NULL after deallocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">matrix_ptr</td><td>Triple pointer to the matrix to destroy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rows</td><td>Number of rows in the matrix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae9e535624a5157a679d86be9b9704df" name="aae9e535624a5157a679d86be9b9704df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9e535624a5157a679d86be9b9704df">&#9670;&#160;</a></span>draw_temporary_figure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_temporary_figure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the current figure as temporary markers (value 2) on the field. </p>
<p>Calculates the figure's position based on its current state and marks those positions on the field with value 2 (temporary). Only modifies empty or already temporary cells.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>Pointer to the current game state </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Pointer to the current game block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8bb24202f07ded336c028f4b28e8ffea" name="a8bb24202f07ded336c028f4b28e8ffea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb24202f07ded336c028f4b28e8ffea">&#9670;&#160;</a></span>empty_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void empty_matrix </td>
          <td>(</td>
          <td class="paramtype">int **</td>          <td class="paramname"><span class="paramname"><em>matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>row</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>col</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills a matrix with zeros. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">matrix</td><td>The 2D matrix to be cleared </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">row</td><td>Number of rows in the matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col</td><td>Number of columns in the matrix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03b7f2daf5b66c019a8fe456891750cf" name="a03b7f2daf5b66c019a8fe456891750cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b7f2daf5b66c019a8fe456891750cf">&#9670;&#160;</a></span>fall_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> fall_down </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves block down until it hits bottom or another block. </p>
<p>Repeatedly attempts to move the block down until collision is detected. Uses <a class="el" href="backend_8h.html#ad714eba73a8569745e004344aea573db" title="Moves block down one cell if possible.">move_down()</a> internally and stops after maximum field height attempts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Next state (MOVING or ATTACHING) </dd></dl>

</div>
</div>
<a id="af67058ee52eeab518485da0d6a7ebf17" name="af67058ee52eeab518485da0d6a7ebf17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67058ee52eeab518485da0d6a7ebf17">&#9670;&#160;</a></span>FiniteStateMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> FiniteStateMachine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main game state machine controller. </p>
<p>Manages transitions between all game states and delegates to appropriate handler functions. Maintains internal state between calls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> The updated game state after processing</dd></dl>
<p>State Transition Diagram:</p><ul>
<li>GAME_START → (via on_game_start) → SPAWN</li>
<li>SPAWN → (via on_game_spawn) → MOVING</li>
<li>MOVING → (via move_down) → MOVING or ATTACHING</li>
<li>ATTACHING → (via on_attaching) → SPAWN or GAME_OVER</li>
<li>GAME_OVER → (via on_game_over) → GAME_START</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Returns GAME_OVER immediately if null pointers are provided </dd></dl>

</div>
</div>
<a id="ae1ad735b3fbd154905a6c7590e1d4de5" name="ae1ad735b3fbd154905a6c7590e1d4de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ad735b3fbd154905a6c7590e1d4de5">&#9670;&#160;</a></span>foo_attaching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> foo_attaching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the figure attachment process and checks game over condition. </p>
<p>Permanently attaches the current figure to the field (marking with value 1) and checks if there's space to spawn the next figure in the starting area.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>Pointer to the current game state </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Pointer to the current game block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Returns SPAWN if next figure can be spawned, GAME_OVER otherwise </dd></dl>

</div>
</div>
<a id="a7c9de83cbdb522ad7fe6c0b44af4ec64" name="a7c9de83cbdb522ad7fe6c0b44af4ec64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9de83cbdb522ad7fe6c0b44af4ec64">&#9670;&#160;</a></span>free_resourse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_resourse </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees all dynamically allocated game resources. </p>
<p>Cleans up the game state matrix, next block matrix, and current block. Safely handles NULL pointers and ensures complete memory deallocation. </p>

</div>
</div>
<a id="a194ae974847d0ebd3501ec83528c0563" name="a194ae974847d0ebd3501ec83528c0563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194ae974847d0ebd3501ec83528c0563">&#9670;&#160;</a></span>FreeCurrentState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FreeCurrentState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> **</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees all memory allocated for the game state. </p>
<p>Safely deallocates the game field matrix, next figure matrix, and the state structure itself. Sets the pointer to NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Double pointer to the game state to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a295fc5ad64eb82c58a61b20ffa51dea1" name="a295fc5ad64eb82c58a61b20ffa51dea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a295fc5ad64eb82c58a61b20ffa51dea1">&#9670;&#160;</a></span>GameTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GameTimer </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pause</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls the game timing based on level and pause state. </p>
<p>Calculates the appropriate interval between game updates based on level, with minimum interval of 50ms. Returns 1 when the interval has passed and game is not paused.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>Current game level (affects speed) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pause</td><td>Pause state (1 = paused, 0 = running) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 1 if game should update, 0 otherwise </dd></dl>

</div>
</div>
<a id="a7badae71f2b129138d24a3a092028a6b" name="a7badae71f2b129138d24a3a092028a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7badae71f2b129138d24a3a092028a6b">&#9670;&#160;</a></span>getCurrentBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> * getCurrentBlock </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>reset</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets or resets the current game block. </p>
<p>Manages the singleton current block instance. Can be used to:</p><ul>
<li>Get the current block (reset = false)</li>
<li>Reset and free the current block (reset = true) Initializes new block with default position if none exists.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reset</td><td>Whether to reset the current block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GameBlock_t* Pointer to current block, NULL if reset </dd></dl>

</div>
</div>
<a id="aab58710ec1f5cdcaead77ae06436dd90" name="aab58710ec1f5cdcaead77ae06436dd90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab58710ec1f5cdcaead77ae06436dd90">&#9670;&#160;</a></span>getCurrentState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> * getCurrentState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets or initializes the current game state. </p>
<p>Manages the singleton game state instance. Initializes on first call with:</p><ul>
<li>Empty game field and next block matrices</li>
<li>Zero score and loaded high score</li>
<li>Initial level and preview pause state</li>
</ul>
<p>Also handles automatic game timing and block drawing when called.</p>
<dl class="section return"><dt>Returns</dt><dd>GameInfo_t* Pointer to current game state (singleton instance)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Performs these automatic operations when called:<ol type="1">
<li>Clears temporary figure markers</li>
<li>Processes game timer ticks</li>
<li>Updates game state via <a class="el" href="backend_8h.html#af67058ee52eeab518485da0d6a7ebf17" title="Main game state machine controller.">FiniteStateMachine()</a></li>
<li>Redraws temporary figure </li>
</ol>
</dd></dl>

</div>
</div>
<a id="aa36309657da93af23a91fe26fe91a87e" name="aa36309657da93af23a91fe26fe91a87e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36309657da93af23a91fe26fe91a87e">&#9670;&#160;</a></span>is_line_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_line_full </td>
          <td>(</td>
          <td class="paramtype">const int *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a line in the game field is completely filled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">line</td><td>Pointer to the line to check </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>Width of the game field (number of columns) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the line is completely filled </dd>
<dd>
false if the line contains at least one empty cell </dd></dl>

</div>
</div>
<a id="ac8aa937deea74d7e4deb4829091cb9fa" name="ac8aa937deea74d7e4deb4829091cb9fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8aa937deea74d7e4deb4829091cb9fa">&#9670;&#160;</a></span>load_high_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_high_score </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the high score from file. </p>
<p>Attempts to read the high score from "high_score.txt" file. Returns 0 if file doesn't exist or can't be read.</p>
<dl class="section return"><dt>Returns</dt><dd>int The loaded high score, or 0 if not available </dd></dl>

</div>
</div>
<a id="a81f4fd0d56cf1e1d7127bb8e45e6902c" name="a81f4fd0d56cf1e1d7127bb8e45e6902c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f4fd0d56cf1e1d7127bb8e45e6902c">&#9670;&#160;</a></span>lvl_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lvl_up </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>score</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates current level based on score. </p>
<p>Level increases every 600 points, capped at level 10.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">score</td><td>Current game score </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Current level (0-10) </dd></dl>

</div>
</div>
<a id="ad714eba73a8569745e004344aea573db" name="ad714eba73a8569745e004344aea573db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad714eba73a8569745e004344aea573db">&#9670;&#160;</a></span>move_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> move_down </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves block down one cell if possible. </p>
<p>Attempts to move block down, checking for collisions. Only moves if game is not paused.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Next state (MOVING or ATTACHING) </dd></dl>

</div>
</div>
<a id="a492908f0560fb0f29b5e9a718d835727" name="a492908f0560fb0f29b5e9a718d835727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a492908f0560fb0f29b5e9a718d835727">&#9670;&#160;</a></span>move_left()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> move_left </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves block left if possible. </p>
<p>Attempts to move block left one cell, checking for collisions. Only moves if game is not paused. Reverts move if collision detected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Always returns MOVING state </dd></dl>

</div>
</div>
<a id="a6a56b59d68341c7d50c98500a40a99ce" name="a6a56b59d68341c7d50c98500a40a99ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a56b59d68341c7d50c98500a40a99ce">&#9670;&#160;</a></span>move_right()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> move_right </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves block right if possible. </p>
<p>Attempts to move block right one cell, checking for collisions. Only moves if game is not paused. Reverts move if collision detected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Always returns MOVING state </dd></dl>

</div>
</div>
<a id="a0097381a7798527d85542590e9a0715d" name="a0097381a7798527d85542590e9a0715d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0097381a7798527d85542590e9a0715d">&#9670;&#160;</a></span>on_attaching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> on_attaching </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the block attachment process. </p>
<p>Manages state transitions when a block needs to attach to the field. Updates score, level, and high score if attachment occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to current active block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Next state (SPAWN or MOVING) </dd></dl>

</div>
</div>
<a id="a0342541c13f9b85732bddec5254a6fb5" name="a0342541c13f9b85732bddec5254a6fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0342541c13f9b85732bddec5254a6fb5">&#9670;&#160;</a></span>on_game_over()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> on_game_over </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles game over condition. </p>
<p>Saves high score if achieved and resets game to start state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Always returns GAME_START state </dd></dl>

</div>
</div>
<a id="aeba9d187cd1bfb0d19ff8f7cb00f9bd6" name="aeba9d187cd1bfb0d19ff8f7cb00f9bd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba9d187cd1bfb0d19ff8f7cb00f9bd6">&#9670;&#160;</a></span>on_game_spawn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> on_game_spawn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles new block spawning. </p>
<p>Transfers the next block to current position and prepares a new next block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to current game state </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CurrentBlock</td><td>Pointer to be initialized with new block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Always returns MOVING state </dd></dl>

</div>
</div>
<a id="a0cc1af869195ab8900248787e80de4db" name="a0cc1af869195ab8900248787e80de4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cc1af869195ab8900248787e80de4db">&#9670;&#160;</a></span>on_game_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> on_game_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new game. </p>
<p>Resets game field, score, level, and prepares first block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to game state to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="backend_8h.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> Always returns SPAWN state </dd></dl>

</div>
</div>
<a id="a142f582bf269f27827e76d4f1bcc5bf1" name="a142f582bf269f27827e76d4f1bcc5bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a142f582bf269f27827e76d4f1bcc5bf1">&#9670;&#160;</a></span>prepare_next_figure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_next_figure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares the next figure to be displayed in the "next" preview. </p>
<p>Generates a random tetromino type, calculates its position offset, and stores it in the CurrentState-&gt;next matrix for display.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to the current game state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0095c9e327791389211d5a23498e2e58" name="a0095c9e327791389211d5a23498e2e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0095c9e327791389211d5a23498e2e58">&#9670;&#160;</a></span>reset_game_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_game_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the game state to initial conditions. </p>
<p>Clears both game field and next block matrices, resets score and level, and prepares a new next figure. Does not affect high score.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">state</td><td>Pointer to game state to reset</td></tr>
  </table>
  </dd>
</dl>
<p>Reset Operations:</p><ol type="1">
<li>Clears main game field matrix</li>
<li>Clears next block matrix</li>
<li>Resets score to 0</li>
<li>Resets level to 0</li>
<li>Updates speed to match level</li>
<li>Generates new next figure </li>
</ol>

</div>
</div>
<a id="a28781352b2f927d5b3b77d4d9ab329c7" name="a28781352b2f927d5b3b77d4d9ab329c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28781352b2f927d5b3b77d4d9ab329c7">&#9670;&#160;</a></span>rotate_figure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rotate_figure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentState</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_game_block__t.html">GameBlock_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CurrentBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotates the current game block if possible. </p>
<p>Checks for collisions after rotation and reverts if necessary. Rotation only occurs when game is not paused.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentState</td><td>Pointer to the current game state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CurrentBlock</td><td>Pointer to the current game block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad0ca0e41c79d20482b7a39e3b59289c9" name="ad0ca0e41c79d20482b7a39e3b59289c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0ca0e41c79d20482b7a39e3b59289c9">&#9670;&#160;</a></span>save_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_record </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>score</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>record</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves high score to file if it matches current record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">score</td><td>Score to save </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Current high score to verify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36b9526f72bdbf76988e628dc917ee35" name="a36b9526f72bdbf76988e628dc917ee35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b9526f72bdbf76988e628dc917ee35">&#9670;&#160;</a></span>shift_lines_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shift_lines_down </td>
          <td>(</td>
          <td class="paramtype">int **</td>          <td class="paramname"><span class="paramname"><em>matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from_row</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shifts all lines above the specified row down by one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">matrix</td><td>The game field matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_row</td><td>The row from which to start shifting down </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4387327fa895b3d19caae0ee079cf8b4" name="a4387327fa895b3d19caae0ee079cf8b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4387327fa895b3d19caae0ee079cf8b4">&#9670;&#160;</a></span>update_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_record </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>score</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>record</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates high score record if new score is higher. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">score</td><td>Current game score </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Current high score </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int New high score value </dd></dl>

</div>
</div>
<a id="afd5762991a9248a0b4192983fd786a8f" name="afd5762991a9248a0b4192983fd786a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd5762991a9248a0b4192983fd786a8f">&#9670;&#160;</a></span>updateCurrentState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_game_info__t.html">GameInfo_t</a> updateCurrentState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a copy of the current game state. </p>
<p>Retrieves the current game state through <a class="el" href="backend_8h.html#aab58710ec1f5cdcaead77ae06436dd90" title="Gets or initializes the current game state.">getCurrentState()</a> and returns a copy of it. Useful for safe state inspection.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_game_info__t.html">GameInfo_t</a> Copy of the current game state </dd></dl>

</div>
</div>
<a id="ab961f91e569a34b6984536633126257a" name="ab961f91e569a34b6984536633126257a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab961f91e569a34b6984536633126257a">&#9670;&#160;</a></span>userInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void userInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#a7ba289d7b97db30e0b7041ca2cef75a9">UserAction_t</a></td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>hold</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles user input and translates it to game actions. </p>
<p>Processes all possible user actions and modifies game state accordingly. Clears temporary figure before processing input to ensure clean state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>The user action to process (from <a class="el" href="common_8h.html#a7ba289d7b97db30e0b7041ca2cef75a9">UserAction_t</a> enum) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hold</td><td>Indicates if the action is being held (used for soft drop)</td></tr>
  </table>
  </dd>
</dl>
<p>Supported actions:</p><ul>
<li>Start: Resumes paused game</li>
<li>Pause: Toggles pause state</li>
<li>Terminate: Ends game and saves high score</li>
<li>Left/Right: Moves block horizontally</li>
<li>Up: Rotates block</li>
<li>Down: Soft drop (when held)</li>
<li>Action: Hard drop (instant fall) </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_2ee2de302366a9522113dfc9d3962873.html">brick_game</a></li><li class="navelem"><a href="dir_a27466d1e2cff2d3a32cbaf29900b661.html">tetris</a></li><li class="navelem"><a href="backend_8c.html">backend.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
